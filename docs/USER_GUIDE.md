# 用户使用指南

欢迎使用 Rauzy 分形分析工作台！本指南将帮助您快速上手并充分利用这个强大的数学分析工具。

## 🎯 应用概述

Rauzy 分形分析工作台是一个专业的数学研究工具，用于：

- 可视化 Tribonacci 符号序列生成的 Rauzy 分形
- 分析复合路径的几何特征
- 验证刘氏定理的数学计算
- 进行多路径对比研究

## 🖥️ 界面布局

应用采用三栏式专业布局：

```
┌─────────────┬──────────────────┬─────────────┐
│             │                  │             │
│   控制面板   │     分形画布      │  数据面板   │
│             │                  │             │
│  • 路径输入  │   • 分形可视化    │ • 路径数据  │
│  • 点数控制  │   • 多色高亮     │ • 计算结果  │
│  • 路径列表  │   • 实时渲染     │ • 统计信息  │
│             │                  │             │
└─────────────┴──────────────────┴─────────────┘
```

## 🚀 快速开始

### 第一步：设置分形参数

1. **调整点数**：使用左侧的滑块设置分形的总点数
   - 范围：10,000 - 1,000,000 个点
   - 建议：初学者使用 100,000 个点
   - 注意：点数越多，计算时间越长，但细节更丰富

2. **等待计算**：调整点数后，应用会自动重新计算分形
   - 看到"正在计算核心算法..."提示时请耐心等待
   - 计算完成后会显示通知

### 第二步：添加分析路径

1. **输入路径**：在"构建路径"输入框中输入数字序列
   - 支持格式：`1213` 或 `1,2,1,3`
   - 只能包含数字 1、2、3
   - 例如：`1213`、`23121`、`31`

2. **添加到列表**：点击"添加路径到列表"按钮
   - 成功添加后会在路径列表中显示
   - 每条路径会分配一个独特的颜色
   - 对应的点会在分形中高亮显示

3. **查看结果**：右侧数据面板会显示路径的详细分析

### 第三步：分析和对比

1. **添加多条路径**：重复第二步添加更多路径进行对比
2. **观察分形**：中央画布会用不同颜色显示各路径对应的点集
3. **研究数据**：右侧面板提供每条路径的数学分析结果

## 📊 数据解读

### 路径数据卡片

每条路径在右侧面板都有一个数据卡片，包含：

#### 基础参数
- **r值**：路径的总权重，等于所有数字之和
- **C值**：刘氏定理中的常数项

#### 系数信息
- **α₁, α₂, α₃**：主项系数，基于 Tribonacci 数列计算

#### 几何信息
- **首项坐标**：路径对应点集的第一个点的复平面坐标
- **位置数列**：复合位置函数的计算结果（显示前5项）

#### 统计信息
- **序列长度**：位置数列的总项数
- **最大值/最小值**：序列中的极值

### 分形可视化

#### 颜色编码
- **灰色点**：基础分形点，按类型有不同透明度
  - 类型1：较深灰色
  - 类型2：中等灰色  
  - 类型3：较浅灰色
- **彩色点**：路径高亮点，每条路径使用不同颜色
  - 黄色、红色、绿色、蓝色、粉色、青色循环使用

#### 显示信息
- 左下角显示当前点数
- 右下角显示可见点数和高亮点数

## 🔧 高级功能

### 路径管理

#### 删除路径
- 点击路径列表中的"删除"按钮
- 对应的高亮点会立即从分形中移除

#### 路径验证
应用会自动验证输入的路径：
- ✅ 有效：`1213`、`23`、`1,2,1,3`
- ❌ 无效：`1214`（包含4）、`abc`（非数字）、空输入

#### 重复检测
- 不允许添加重复的路径
- 会显示"该路径已存在"的错误提示

### 性能优化

#### 智能渲染
- 只渲染可见区域的点（视口裁剪）
- 按颜色分组批量绘制
- 使用 requestAnimationFrame 平滑渲染

#### 计算缓存
- 相同点数的计算结果会被缓存
- 避免重复计算，提升响应速度

#### 内存管理
- 自动清理不需要的数据
- 优化大数据集的内存使用

## 🎨 使用技巧

### 研究工作流建议

1. **从小规模开始**
   - 先用 50,000 个点熟悉界面
   - 理解基本概念后再增加点数

2. **系统性分析**
   - 按长度分组研究路径（如：所有长度为3的路径）
   - 比较相似路径的差异

3. **模式识别**
   - 观察不同路径在分形中的分布模式
   - 寻找几何结构的规律

4. **数据记录**
   - 截图保存有趣的分形图案
   - 记录重要路径的数据参数

### 性能优化建议

1. **合理设置点数**
   - 日常研究：100,000 - 300,000 点
   - 详细分析：500,000 - 800,000 点
   - 高精度研究：1,000,000 点

2. **控制路径数量**
   - 同时分析的路径不超过 10 条
   - 过多路径会影响可视化效果

3. **浏览器优化**
   - 使用现代浏览器（Chrome、Firefox、Safari）
   - 关闭不必要的标签页释放内存
   - 定期刷新页面清理缓存

## 🔍 故障排除

### 常见问题

#### 计算很慢或卡住
**原因**：点数设置过高或设备性能不足
**解决**：
- 降低点数到 100,000 以下
- 关闭其他应用程序释放内存
- 刷新页面重新开始

#### 路径添加失败
**原因**：输入格式错误或路径重复
**解决**：
- 检查输入只包含 1、2、3
- 确认路径未重复添加
- 查看错误提示信息

#### 分形显示异常
**原因**：浏览器兼容性或Canvas错误
**解决**：
- 更新浏览器到最新版本
- 尝试不同的浏览器
- 检查硬件加速设置

#### 页面无响应
**原因**：JavaScript错误或内存不足
**解决**：
- 打开浏览器开发者工具查看错误
- 刷新页面重新加载
- 重启浏览器

### 错误信息解读

| 错误信息 | 含义 | 解决方法 |
|---------|------|---------|
| "路径不能为空" | 输入框为空 | 输入有效的数字序列 |
| "路径只能包含1, 2, 3" | 包含无效字符 | 只使用数字1、2、3 |
| "该路径已存在" | 重复添加路径 | 检查路径列表，避免重复 |
| "最多只能添加300条路径" | 超过路径限制 | 删除一些路径后再添加 |
| "基础数据未准备好" | 分形计算未完成 | 等待计算完成后再操作 |
| "计算基础数据时出错" | 数学计算错误 | 刷新页面或降低点数 |

## 📱 移动设备使用

### 支持情况
- ✅ 平板电脑（iPad、Android平板）
- ⚠️ 手机（功能受限，不推荐）
- ❌ 小屏幕设备

### 移动端优化建议
1. **横屏使用**：获得更好的显示效果
2. **降低点数**：移动设备性能有限，建议使用50,000点以下
3. **简化操作**：一次只分析1-2条路径
4. **网络稳定**：确保网络连接稳定

## 🎓 学习资源

### 数学背景
- **Tribonacci数列**：三阶斐波那契数列的定义和性质
- **Rauzy分形**：通过符号替换生成的几何分形
- **刘氏定理**：复合路径与几何点集的对应关系

### 推荐阅读
1. "Rauzy Fractal and Tribonacci Substitution" - 基础理论
2. "Geometric Properties of Substitution Fractals" - 几何性质
3. "Computational Methods in Fractal Analysis" - 计算方法

### 在线资源
- [Rauzy分形维基百科](https://en.wikipedia.org/wiki/Rauzy_fractal)
- [Tribonacci数列OEIS](https://oeis.org/A000073)
- [分形几何学习资源](https://fractalfoundation.org/)

## 💡 创意应用

### 艺术创作
- 将分形图案用于数字艺术创作
- 探索不同参数组合的视觉效果
- 制作分形动画（通过改变参数）

### 教学演示
- 展示数学概念的可视化
- 演示算法的执行过程
- 比较理论与实际计算结果

### 研究工具
- 验证数学猜想
- 探索新的数学模式
- 生成研究数据和图表

## 🤝 社区交流

### 分享发现
- 截图分享有趣的分形模式
- 记录重要的数学发现
- 与其他研究者交流心得

### 反馈建议
- 报告软件bug
- 提出功能改进建议
- 分享使用经验

---

希望这个指南能帮助您充分利用 Rauzy 分形分析工作台！如有任何问题，请查看故障排除部分或联系开发团队。

**祝您研究愉快！** 🎉